"use client";

import styled from "styled-components";
import { Card } from "xiilab-ui";

import type { VulnerabilityListType } from "@/domain/security/schemas/vulnerability.schema";

interface VulnerabilityCardProps extends VulnerabilityListType {}

export function VulnerabilityCard({
  cve,
  nvd,
  redhat,
  version,
}: VulnerabilityCardProps) {
  const handleClickCard = () => {};

  return (
    <Card
      contentVariant="default"
      height={132}
      onClick={handleClickCard}
      title={cve}
    >
      <Container>
        {/* 카드 본문: 알림 정보 표시 */}
        <Body>
          {/* 왼쪽: 정보 라벨 */}
          <CardLeft>
            <CardKey>패키지</CardKey>
            <CardKey>현재버전</CardKey>
            <CardKey>nvd</CardKey>
            <CardKey>redhat</CardKey>
          </CardLeft>
          {/* 오른쪽: 정보 값 */}
          <CardRight>
            <CardValue>test</CardValue>
            <CardValue>{version}</CardValue>
            <CardValue>{nvd}</CardValue>
            <CardValue>{redhat}</CardValue>
          </CardRight>
        </Body>
      </Container>
    </Card>
  );
}

// ===== Styled Components =====

const Container = styled.div`
  width: 100%;
  height: 100%;
  padding: 2px 6px;
  display: flex;
  justify-content: space-between;
  flex-direction: column;
`;

const Body = styled.div`
  display: flex;
  justify-content: flex-start;
  align-items: flex-start;
  flex: 1;
`;

const CardLeft = styled.div`
  width: 40px;
  display: flex;
  flex-direction: column;
  gap: 8px;
`;

const CardKey = styled.div`
  font-weight: 600;
  font-size: 10px;
  line-height: 12px;
  color: #484848;
  word-spacing: 0.1px;

  position: relative;
  line-height: 12px;

  &::after {
    position: absolute;
    content: ":";
    line-height: 12px;
    top: 0;
    right: 0;
  }
`;

const CardRight = styled.div`
  flex: 1;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding-left: 10px;
`;

const CardValue = styled.div`
  font-weight: 400;
  font-size: 12px;
  line-height: 1;
  color: #000;
  overflow: hidden;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  gap: 14px;
`;

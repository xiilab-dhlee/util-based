"use client";

import React from "react";
import styled from "styled-components";
import { Modal, Typography } from "xiilab-ui";

interface VulnerabilityDetailModalProps {
  open: boolean;
  onClose: () => void;
  vulnerabilityDetail?: string;
}

/**
 * 컨테이너 이미지 취약점 상세 모달
 */
export function VulnerabilityDetailModal({
  open,
  onClose,
  vulnerabilityDetail = `NGINX Open Source and NGINX Plus have
a vulnerability in the ngx_http_mp4_module,
which might allow an attacker to over-read
NGINX worker memory resulting in its termi-
nation, using a specially crafted mp4 file.
The issue only affects NGINX if it is built with
GINX Open Source and NGINX Plus have`,
}: VulnerabilityDetailModalProps) {
  return (
    <Modal
      open={open}
      variant="error"
      title="컨테이너 이미지 취약점"
      modalWidth={300}
      height={200}
      onCancel={onClose}
      centered
      closable={true}
      maskClosable={false}
      getContainer={() => document.body}
      zIndex={1000}
      showCancelButton={false}
      footer={null}
      bodyStyle={{ padding: 0 }}
    >
      <ScrollableTextArea>{vulnerabilityDetail}</ScrollableTextArea>
    </Modal>
  );
}


const ScrollableTextArea = styled(Typography.Text).attrs({
  variant: "body-2-4", // 12px, 400 weight
})`
  width: 100%;
  height: 100%;
  background-color: #f3f5f7;
  border: 1px solid #e9e9e9;
  border-radius: 2px;
  padding: 10px;
  overflow-y: auto;
  line-height: 1.33;
  color: #000000;
  cursor: default;

  /* 스크롤바 스타일링 */
  scrollbar-width: thin;
  scrollbar-color: #dddddd transparent;

  &::-webkit-scrollbar {
    width: 4px;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
  }

  &::-webkit-scrollbar-thumb {
    background-color: #dddddd;
    border-radius: 3px;
  }
`;
